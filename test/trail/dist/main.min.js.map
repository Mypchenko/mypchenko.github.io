{"version":3,"sources":["../src/main.js"],"names":[],"mappings":"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","file":"main.min.js","sourcesContent":["document.body.onload = trailsAnimation();\r\n\r\nfunction trailsAnimation() {\r\n  const trailsState = [\r\n    {\r\n      offsetTop: -60,\r\n      offsetLeft: -60,\r\n    },\r\n  ];\r\n\r\n  for (let i = 1; i <= 50; ++i) {\r\n    const trail = document.body.appendChild(document.createElement(`div`));\r\n\r\n    trail.style.left = `${(i + 1) * -60}px`;\r\n    trail.style.top = `${(i + 1) * -60}px`;\r\n    trail.style.zIndex = 1;\r\n    trail.className = `trail`;\r\n\r\n    trailsState.push(trail);\r\n  }\r\n\r\n  window.addEventListener(`mousemove`, trail);\r\n  window.addEventListener(\r\n    `touchmove`,\r\n    (event) => {\r\n      trail({\r\n        pageX: event.touches[0].pageX,\r\n        pageY: event.touches[0].pageY,\r\n      });\r\n      event.preventDefault();\r\n    },\r\n    { passive: false }\r\n  );\r\n\r\n  function trail(event) {\r\n    requestAnimationFrame(() => {\r\n      const cursorOffsetLeft = event.pageX;\r\n      const cursorOffsetTop = event.pageY;\r\n\r\n      const trailsStateLocal = createLocalState(trailsState);\r\n\r\n      for (let i = 1; i < trailsState.length; ++i) {\r\n        const trail = trailsState[i];\r\n        const trailPrev = trailsStateLocal[i - 1];\r\n\r\n        const x = trailPrev.offsetLeft - trail.offsetLeft;\r\n        const y = trail.offsetTop - trailPrev.offsetTop;\r\n\r\n        const angle = calcAngle(x, y);\r\n\r\n        if (i === 1) {\r\n          document.body.style.cursor = chooseCursor(angle);\r\n        }\r\n\r\n        const distance = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n        if (distance < 40) {\r\n          break;\r\n        }\r\n\r\n        trail.style.left = trailPrev.offsetLeft + `px`;\r\n        trail.style.top = trailPrev.offsetTop + `px`;\r\n\r\n        trail.style.transform = `rotate(${angle * -1 + Math.PI / 2}rad)`;\r\n        trail.style.boxShadow = `${x}px ${y}px 12px 0 #16171844`;\r\n      }\r\n\r\n      trailsState[0] = {\r\n        offsetTop: cursorOffsetTop - 30,\r\n        offsetLeft: cursorOffsetLeft - 7.5,\r\n      };\r\n    });\r\n  }\r\n\r\n  function createLocalState(state) {\r\n    const local = [];\r\n\r\n    for (let i = 0; i < state.length; ++i) {\r\n      local[i] = {\r\n        offsetLeft: state[i].offsetLeft,\r\n        offsetTop: state[i].offsetTop,\r\n      };\r\n    }\r\n\r\n    return local;\r\n  }\r\n\r\n  function calcAngle(x, y) {\r\n    if (x > 0 && y >= 0) {\r\n      return Math.atan(y / x);\r\n    }\r\n    if (x > 0 && y <= 0) {\r\n      return Math.atan(y / x);\r\n    }\r\n    if (x < 0 && y >= 0) {\r\n      return Math.atan(y / x) + Math.PI;\r\n    }\r\n    if (x < 0 && y <= 0) {\r\n      return Math.atan(y / x) + Math.PI;\r\n    }\r\n\r\n    if (x === 0) {\r\n      if (y > 0) return Math.PI / 2;\r\n      if (y < 0) return 3 * Math.PI / 2;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  function chooseCursor(angle) {\r\n    const section = Math.PI / 8;\r\n    angle = angle % Math.PI;\r\n    switch (Math.floor(angle / section)) {\r\n      case 0:\r\n      case 7:\r\n        return `ew-resize`;\r\n\r\n      case 1:\r\n      case 2:\r\n        return `nesw-resize`;\r\n\r\n      case 3:\r\n      case 4:\r\n        return `ns-resize`;\r\n\r\n      case 5:\r\n      case 6:\r\n        return `nwse-resize`;\r\n    }\r\n  }\r\n}\r\n"]}